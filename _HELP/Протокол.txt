—труктура пакета:

0	1	2	3	4	5	6	7
-----------------------------------------------------------------
| ADDRH | ADDRL | COMDH | COMDL | DATA0 | DATA1 | DATA2 | DATA3 |
-----------------------------------------------------------------

ADDR H:L - јдрес получател€ пакета. Ёквивалентен SID этого устройства или равн€етс€ нулю, что подразумевает BROADCAST-пакет
COMD H:L - »нструкци€. »нтерпретируетс€ по-своему каждым устройством, за исключением нескольких об€зательных команд (см. ниже)
DATA 3:0 - 4 байта произвольных данных. »нтерпретируютс€ по-своему каждым устройством.

»того 8 байт.



ќбщие команды.
Ёти команды должны понимать все устройства одинаково.
1) WHOIS - команда опознавани€ адреса. ”стройство, прин€вшее данную команду, об€зано ответить командой ACK источнику.
	ћожет быть широковещательной рассылкой, что может быть использовано дл€ построени€ карты шины, т.к. каждое подключенное устройство
	ответит своим ACK-пакетом.
	ƒанные могут быть не пустыми, однако их значение не вли€ет на работу WHOIS и ACK.

2) ACK - команда ответа на WHOIS или другие запросы. Ќе может быть широковещательным пакетом.
	¬ поле DATA можно передавать данные:
	¬ ответ на WHOIS: версию прошивки
	¬ ответ на PROG_INFO: размер страницы в байтах

3) RESET - команда сброса устройства. ”стройство переходит в режим загрузчика.

4) PROG_FLASH [P] - команда программировани€ устройства указанной страницы. »сполн€етс€ только в режиме загрузчика
	‘ормат:
	COMDH: PROG_FLASH
	COMDL: uint8_t page - номер страницы.
	DATA0-3: uint8_t data[4] - 4 байта указанной страницы. ”стройство об€зано самосто€тельно инкрементировать счетчик байт дл€ страницы.
5) PROG_EEPROM - команда программировани€ EEPROM устройства. »сполн€етс€ только в режиме загрузчика.

6) PROG_INFO - команда получени€ данных об устройстве
	DATA0 - размер страницы в байтах

7) UNSUPPORTED - ответ на нераспознанную или неподдерживаемую команду

